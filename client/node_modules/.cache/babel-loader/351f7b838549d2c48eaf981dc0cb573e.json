{"ast":null,"code":"import axios from \"axios\";\nimport * as AuthUtil from \"../../Authentication/AuthUtil\";\nimport * as TokenUtil from \"../../Authentication/TokenUtil\";\nimport { displayAlert } from \"../alert/alert.action\";\nexport const PRODUCT_UPLOAD_REQUEST = \"PRODUCT_UPLOAD_REQUEST\";\nexport const PRODUCT_UPLOAD_SUCCESS = \"PRODUCT_UPLOAD_SUCCESS\";\nexport const PRODUCT_UPLOAD_FAILURE = \"PRODUCT_UPLOAD_FAILURE\";\nexport const GET_MENS_PRODUCTS_REQUEST = \"GET_MENS_PRODUCTS_REQUEST\";\nexport const GET_MENS_PRODUCTS_SUCCESS = \"GET_MENS_PRODUCTS_SUCCESS\";\nexport const GET_MENS_PRODUCTS_FAILURE = \"GET_MENS_PRODUCTS_FAILURE\";\nexport const GET_WOMEN_PRODUCTS_REQUEST = \"GET_WOMEN_PRODUCTS_REQUEST\";\nexport const GET_WOMEN_PRODUCTS_SUCCESS = \"GET_WOMEN_PRODUCTS_SUCCESS\";\nexport const GET_WOMEN_PRODUCTS_FAILURE = \"GET_WOMEN_PRODUCTS_FAILURE\";\nexport const GET_KIDS_PRODUCTS_REQUEST = \"GET_KIDS_PRODUCTS_REQUEST\";\nexport const GET_KIDS_PRODUCTS_SUCCESS = \"GET_KIDS_PRODUCTS_SUCCESS\";\nexport const GET_KIDS_PRODUCTS_FAILURE = \"GET_KIDS_PRODUCTS_FAILURE\";\nexport const GET_PRODUCT_REQUEST = \"GET_PRODUCT_REQUEST\";\nexport const GET_PRODUCT_SUCCESS = \"GET_PRODUCT_SUCCESS\";\nexport const GET_PRODUCT_FAILURE = \"GET_PRODUCT_FAILURE\";\nexport const uploadProduct = (product, history) => {\n  return async dispatch => {\n    dispatch({\n      type: PRODUCT_UPLOAD_REQUEST\n    });\n\n    try {\n      if (AuthUtil.isLoggedIn()) {\n        TokenUtil.setHeaders(AuthUtil.getToken());\n      }\n\n      let dataUrl = `${process.env.REACT_APP_SERVER_URL}/api/products/upload`;\n      let response = await axios.post(dataUrl, product);\n      dispatch({\n        type: PRODUCT_UPLOAD_SUCCESS,\n        payload: response.data\n      });\n      dispatch(displayAlert(response.data.msg, 'success'));\n      history.push('/');\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_UPLOAD_FAILURE,\n        payload: error.response.data\n      });\n    }\n  };\n};\nexport const getMensProducts = () => {\n  return async dispatch => {\n    dispatch({\n      type: GET_MENS_PRODUCTS_REQUEST\n    });\n\n    try {\n      let dataUrl = `${process.env.REACT_APP_SERVER_URL}/api/products/men`;\n      let response = await axios.get(dataUrl);\n      dispatch({\n        type: GET_MENS_PRODUCTS_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      console.error(error);\n      dispatch({\n        type: GET_MENS_PRODUCTS_FAILURE,\n        payload: error.response.data\n      });\n    }\n  };\n};\nexport const getWomenProducts = () => {\n  return async dispatch => {\n    dispatch({\n      type: GET_WOMEN_PRODUCTS_REQUEST\n    });\n\n    try {\n      let dataUrl = `${process.env.REACT_APP_SERVER_URL}/api/products/women`;\n      let response = await axios.get(dataUrl);\n      dispatch({\n        type: GET_WOMEN_PRODUCTS_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      console.error(error);\n      dispatch({\n        type: GET_WOMEN_PRODUCTS_FAILURE,\n        payload: error.response.data\n      });\n    }\n  };\n};\nexport const getKidsProducts = () => {\n  return async dispatch => {\n    dispatch({\n      type: GET_KIDS_PRODUCTS_REQUEST\n    });\n\n    try {\n      let dataUrl = `${process.env.REACT_APP_SERVER_URL}/api/products/kids`;\n      let response = await axios.get(dataUrl);\n      dispatch({\n        type: GET_KIDS_PRODUCTS_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      console.error(error);\n      dispatch({\n        type: GET_KIDS_PRODUCTS_FAILURE,\n        payload: error.response.data\n      });\n    }\n  };\n};\nexport const getProduct = productId => {\n  return async dispatch => {\n    dispatch({\n      type: GET_PRODUCT_REQUEST\n    });\n\n    try {\n      let dataUrl = `${process.env.REACT_APP_SERVER_URL}/api/products/${productId}`;\n      let response = await axios.get(dataUrl);\n      dispatch({\n        type: GET_PRODUCT_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      console.error(error);\n      dispatch({\n        type: GET_KIDS_PRODUCTS_FAILURE,\n        payload: error.response.data\n      });\n    }\n  };\n};","map":{"version":3,"sources":["J:/Workspace/Projects/Brains-Kart/brainskart-ecommerce-project/client/src/redux/product/product.action.ts"],"names":["axios","AuthUtil","TokenUtil","displayAlert","PRODUCT_UPLOAD_REQUEST","PRODUCT_UPLOAD_SUCCESS","PRODUCT_UPLOAD_FAILURE","GET_MENS_PRODUCTS_REQUEST","GET_MENS_PRODUCTS_SUCCESS","GET_MENS_PRODUCTS_FAILURE","GET_WOMEN_PRODUCTS_REQUEST","GET_WOMEN_PRODUCTS_SUCCESS","GET_WOMEN_PRODUCTS_FAILURE","GET_KIDS_PRODUCTS_REQUEST","GET_KIDS_PRODUCTS_SUCCESS","GET_KIDS_PRODUCTS_FAILURE","GET_PRODUCT_REQUEST","GET_PRODUCT_SUCCESS","GET_PRODUCT_FAILURE","uploadProduct","product","history","dispatch","type","isLoggedIn","setHeaders","getToken","dataUrl","process","env","REACT_APP_SERVER_URL","response","post","payload","data","msg","push","error","getMensProducts","get","console","getWomenProducts","getKidsProducts","getProduct","productId"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport {IProduct} from \"../../Modules/products/Models/IProduct\";\r\nimport * as AuthUtil from \"../../Authentication/AuthUtil\"\r\nimport * as TokenUtil from \"../../Authentication/TokenUtil\"\r\nimport {displayAlert} from \"../alert/alert.action\";\r\n\r\nexport const PRODUCT_UPLOAD_REQUEST : string = \"PRODUCT_UPLOAD_REQUEST\";\r\nexport const PRODUCT_UPLOAD_SUCCESS : string = \"PRODUCT_UPLOAD_SUCCESS\";\r\nexport const PRODUCT_UPLOAD_FAILURE : string = \"PRODUCT_UPLOAD_FAILURE\";\r\n\r\nexport const GET_MENS_PRODUCTS_REQUEST : string = \"GET_MENS_PRODUCTS_REQUEST\";\r\nexport const GET_MENS_PRODUCTS_SUCCESS : string = \"GET_MENS_PRODUCTS_SUCCESS\";\r\nexport const GET_MENS_PRODUCTS_FAILURE : string = \"GET_MENS_PRODUCTS_FAILURE\";\r\n\r\nexport const GET_WOMEN_PRODUCTS_REQUEST : string = \"GET_WOMEN_PRODUCTS_REQUEST\";\r\nexport const GET_WOMEN_PRODUCTS_SUCCESS : string = \"GET_WOMEN_PRODUCTS_SUCCESS\";\r\nexport const GET_WOMEN_PRODUCTS_FAILURE : string = \"GET_WOMEN_PRODUCTS_FAILURE\";\r\n\r\nexport const GET_KIDS_PRODUCTS_REQUEST : string = \"GET_KIDS_PRODUCTS_REQUEST\";\r\nexport const GET_KIDS_PRODUCTS_SUCCESS : string = \"GET_KIDS_PRODUCTS_SUCCESS\";\r\nexport const GET_KIDS_PRODUCTS_FAILURE : string = \"GET_KIDS_PRODUCTS_FAILURE\";\r\n\r\nexport const GET_PRODUCT_REQUEST : string = \"GET_PRODUCT_REQUEST\";\r\nexport const GET_PRODUCT_SUCCESS : string = \"GET_PRODUCT_SUCCESS\";\r\nexport const GET_PRODUCT_FAILURE : string = \"GET_PRODUCT_FAILURE\";\r\n\r\n\r\nexport const uploadProduct = (product : IProduct , history : any) => {\r\n    return async (dispatch : any) => {\r\n        dispatch({\r\n            type : PRODUCT_UPLOAD_REQUEST\r\n        })\r\n        try{\r\n            if(AuthUtil.isLoggedIn()){\r\n                TokenUtil.setHeaders(AuthUtil.getToken() as string)\r\n            }\r\n            let dataUrl = `${process.env.REACT_APP_SERVER_URL}/api/products/upload`;\r\n            let response = await axios.post(dataUrl , product);\r\n            dispatch({\r\n                type : PRODUCT_UPLOAD_SUCCESS,\r\n                payload : response.data\r\n            })\r\n            dispatch(displayAlert(response.data.msg , 'success'))\r\n            history.push('/')\r\n        }\r\n        catch (error){\r\n            dispatch({\r\n                type : PRODUCT_UPLOAD_FAILURE,\r\n                payload : error.response.data\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport const getMensProducts = () => {\r\n    return async (dispatch : any) => {\r\n        dispatch({\r\n            type : GET_MENS_PRODUCTS_REQUEST\r\n        })\r\n        try{\r\n            let dataUrl = `${process.env.REACT_APP_SERVER_URL}/api/products/men`;\r\n            let response = await axios.get(dataUrl);\r\n            dispatch({\r\n                type : GET_MENS_PRODUCTS_SUCCESS,\r\n                payload : response.data\r\n            })\r\n        }\r\n        catch (error){\r\n            console.error(error);\r\n            dispatch({\r\n                type : GET_MENS_PRODUCTS_FAILURE,\r\n                payload : error.response.data\r\n            })\r\n        }\r\n    }\r\n}\r\nexport const getWomenProducts = () => {\r\n    return async (dispatch : any) => {\r\n        dispatch({\r\n            type : GET_WOMEN_PRODUCTS_REQUEST\r\n        })\r\n        try{\r\n            let dataUrl = `${process.env.REACT_APP_SERVER_URL}/api/products/women`;\r\n            let response = await axios.get(dataUrl);\r\n            dispatch({\r\n                type : GET_WOMEN_PRODUCTS_SUCCESS,\r\n                payload : response.data\r\n            })\r\n        }\r\n        catch (error){\r\n            console.error(error);\r\n            dispatch({\r\n                type : GET_WOMEN_PRODUCTS_FAILURE,\r\n                payload : error.response.data\r\n            })\r\n        }\r\n    }\r\n}\r\nexport const getKidsProducts = () => {\r\n    return async (dispatch : any) => {\r\n        dispatch({\r\n            type : GET_KIDS_PRODUCTS_REQUEST\r\n        })\r\n        try{\r\n            let dataUrl = `${process.env.REACT_APP_SERVER_URL}/api/products/kids`;\r\n            let response = await axios.get(dataUrl);\r\n            dispatch({\r\n                type : GET_KIDS_PRODUCTS_SUCCESS,\r\n                payload : response.data\r\n            })\r\n        }\r\n        catch (error){\r\n            console.error(error);\r\n            dispatch({\r\n                type : GET_KIDS_PRODUCTS_FAILURE,\r\n                payload : error.response.data\r\n            })\r\n        }\r\n    }\r\n}\r\nexport const getProduct = (productId : string) => {\r\n    return async (dispatch : any) => {\r\n        dispatch({\r\n            type : GET_PRODUCT_REQUEST\r\n        })\r\n        try{\r\n            let dataUrl = `${process.env.REACT_APP_SERVER_URL}/api/products/${productId}`;\r\n            let response = await axios.get(dataUrl);\r\n            dispatch({\r\n                type : GET_PRODUCT_SUCCESS,\r\n                payload : response.data\r\n            })\r\n        }\r\n        catch (error){\r\n            console.error(error);\r\n            dispatch({\r\n                type : GET_KIDS_PRODUCTS_FAILURE,\r\n                payload : error.response.data\r\n            })\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}